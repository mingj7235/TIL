# IP 접속 제한 하기

## 흐름도

[]

- 특정한 IP 만 접근이 가능하도록 심의하는 `Voter` 를 추가

- `Voter` 중에서 `가장 먼저` 심사하도록 한다.

    - 허용한 IP 가 아닐 경우에 가장 먼저 접근을 불허하여 불필요한 리소스 낭비를 줄인다.

- 허용된 IP 이면 `ACCESS_GRANTED` 가 아닌! `ACCESS_ABSTAIN` 을 리턴한다.

    - 이 `Voter` 만 통과한다고 하여 다른 것도 심사 하지 않고 접근 허용을 하면 안된다.

    - 추가 심의가 이루어지도록 해야한다.

- 허용된 IP 가 아니면, `ACCESS_DENIED` 를 리턴하지 않고! 즉시 예외를 발생 시킨다.

    - `ACCESS_DENIED` 를 리턴하면 다시 심의를 하기 때문이다.

    - 허용되지 않은 IP 가 접근하면 바로 예외를 발생시켜서 최종자원 접근을 거부시켜야 한다.

    - `AccessDeniedException` 을 리턴! 