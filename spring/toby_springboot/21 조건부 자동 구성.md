## @AutoConfiguration

- 어플리케이션이 필요로하는 인프라스트럭쳐 Bean 을 자동으로 생성해준다는 의미

- 조건에 따라 인프라스트럭쳐 Bean 을 생성하기 위해서는 어떻게 해야할까?

## JettyServletContainer 와 TomcatServletContainer 를 동시에 설정한 환경 구성


````ad-note
title: 코드 구성

<br>

```ad-info
title: JettyServlet

<br>

~~~java
@MyAutoConfiguration  
public class JettyWebServerConfiguration {  
    @Bean("jettyWebServerFactory")  
    public ServletWebServerFactory servletWebServerFactory () {  
        return new JettyServletWebServerFactory();  
    }  
}
~~~
```

<br>

```ad-info
title: TomcatServlet

<br>

~~~java
@MyAutoConfiguration  
public class TomcatWebServerConfiguration {  
    @Bean("tomcatWebServerFactory")  
    public ServletWebServerFactory servletWebServerFactory () {  
        return new TomcatServletWebServerFactory();  
    }  
}
~~~
```

- resources 의 META-INF 의 configuration classpath 를 넣는 것도 잊지 말것 !

<br>

```ad-fail
title: 이렇게 구동하면 실패한다.

~~~d
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to multiple ServletWebServerFactory beans : tomcatWebServerFactory,jettyWebServerFactory
~~~

- 경고메세지가 나오면서 실패. ServletWebServerFactory bean 이 두개가 검색되었으므로 ..
- 이럴 때, 조건에 따라 자동으로 설정 정보를 가져오도록 구성해야한다.
- 매번 상황에 따라 구성정보의 등록을 변경해줘야하는 건 너무 번거롭다.
- 우선 구성정보의 등록을 후보로서 (candidates) 다 하고, 동적으로 조건에 따라 자동으로 정보를 어플리케이션에 맞게 가져오도록 구성해야한다. 

```

````


## @Conditional 과 Condition











